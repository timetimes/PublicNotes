# vim

Vim 是从 vi 发展出来的一个文本编辑器。代码补全、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。

基本上 vi/vim 共分为三种模式，命令模式（Command Mode）、输入模式（Insert Mode）和命令行模式（Command-Line Mode）

**用户刚刚启动 vi/vim，便进入了命令模式。**

此状态下敲击键盘动作会被 Vim 识别为命令，而非输入字符，比如我们此时按下 **i**，并不会输入一个字符，**i** 被当作了一个命令。

以下是普通模式常用的几个命令：

* **i** -- 切换到输入模式，在光标当前位置开始输入文本。
* **x** -- 删除当前光标所在处的字符。
* **:** -- 切换到底线命令模式，以在最底一行输入命令。
* **a** -- 进入插入模式，在光标下一个位置开始输入文本。
* **o**：在当前行的下方插入一个新行，并进入插入模式。
* **O** -- 在当前行的上方插入一个新行，并进入插入模式。
* **dd** -- 删除当前行。
* **yy** -- 复制当前行。
* **p**（小写） -- 粘贴剪贴板内容到光标下方。
* **P**（大写）-- 粘贴剪贴板内容到光标上方。
* **u** -- 撤销上一次操作。
* **Ctrl + r** -- 重做上一次撤销的操作。
* **:w** -- 保存文件。
* **:q** -- 退出 Vim 编辑器。
* **:q!** -- 强制退出Vim 编辑器，不保存修改。

若想要编辑文本，只需要启动 Vim，进入了命令模式，按下 **i** 切换到输入模式即可。

命令模式只有一些最基本的命令，因此仍要依靠**底线命令行模式**输入更多命令。

## 输入模式

在命令模式下按下 **i** 就进入了输入模式，使用 **Esc** 键可以返回到普通模式。

在输入模式中，可以使用以下按键：

* **字符按键以及Shift组合** ，输入字符
* **ENTER** ，回车键，换行
* **BACK SPACE** ，退格键，删除光标前一个字符
* **DEL** ，删除键，删除光标后一个字符
* **方向键** ，在文本中移动光标
* **HOME** / **END** ，移动光标到行首/行尾
* **Page Up** / **Page Down** ，上/下翻页
* **Insert** ，切换光标为输入/替换模式，光标将变成竖线/下划线
* **ESC** ，退出输入模式，切换到命令模式

## 底线命令模式

在命令模式下按下 **:**（英文冒号）就进入了底线命令模式。

底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。

在底线命令模式中，基本的命令有（已经省略了冒号）：

* `:w`：保存文件。
* `:q`：退出 Vim 编辑器。
* `:wq`：保存文件并退出 Vim 编辑器。
* `:q!`：强制退出Vim编辑器，不保存修改。

按 **ESC** 键可随时退出底线命令模式。

## vi/vim 按键说明

除了上面简易范例的 i, Esc, :wq 之外，其实 vim 还有非常多的按键可以使用。

### 第一部分：一般模式可用的光标移动、复制粘贴、搜索替换等

| 移动光标的方法                                                                                                                                                                                                                  |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| h 或 向左箭头键(←)                                                                                                                                                                                                             |
| j 或 向下箭头键(↓)                                                                                                                                                                                                             |
| k 或 向上箭头键(↑)                                                                                                                                                                                                             |
| l 或 向右箭头键(→)                                                                                                                                                                                                             |
| 如果你将右手放在键盘上的话，你会发现 hjkl 是排列在一起的，因此可以使用这四个按钮来移动光标。 如果想要进行多次移动的话，例如向下移动 30 行，可以使用 "30j" 或 "30↓" 的组合按键， 亦即加上想要进行的次数(数字)后，按下动作即可！ |
| [Ctrl] + [f]                                                                                                                                                                                                                    |
| [Ctrl] + [b]                                                                                                                                                                                                                    |
| [Ctrl] + [d]                                                                                                                                                                                                                    |
| [Ctrl] + [u]                                                                                                                                                                                                                    |
| +                                                                                                                                                                                                                               |
| -                                                                                                                                                                                                                               |
| n`<space>`                                                                                                                                                                                                                    |
| 0 或功能键[Home]                                                                                                                                                                                                                |
| $ 或功能键[End]                                                                                                                                                                                                                 |
| H                                                                                                                                                                                                                               |
| M                                                                                                                                                                                                                               |
| L                                                                                                                                                                                                                               |
| G                                                                                                                                                                                                                               |
| nG                                                                                                                                                                                                                              |
| gg                                                                                                                                                                                                                              |
| n`<Enter>`                                                                                                                                                                                                                    |
| 搜索替换                                                                                                                                                                                                                        |
| /word                                                                                                                                                                                                                           |
| ?word                                                                                                                                                                                                                           |
| n                                                                                                                                                                                                                               |
| N                                                                                                                                                                                                                               |
| 使用 /word 配合 n 及 N 是非常有帮助的！可以让你重复的找到一些你搜寻的关键词！                                                                                                                                                   |
| :n1,n2s/word1/word2/g                                                                                                                                                                                                           |
| **:1,$s/word1/word2/g** 或 **:%s/word1/word2/g**                                                                                                                                                                    |
| **:1,$s/word1/word2/gc** 或 **:%s/word1/word2/gc**                                                                                                                                                                  |
| 删除、复制与贴上                                                                                                                                                                                                                |
| x, X                                                                                                                                                                                                                            |
| nx                                                                                                                                                                                                                              |
| dd                                                                                                                                                                                                                              |
| ndd                                                                                                                                                                                                                             |
| d1G                                                                                                                                                                                                                             |
| dG                                                                                                                                                                                                                              |
| d$                                                                                                                                                                                                                              |
| d0                                                                                                                                                                                                                              |
| yy                                                                                                                                                                                                                              |
| nyy                                                                                                                                                                                                                             |
| y1G                                                                                                                                                                                                                             |
| yG                                                                                                                                                                                                                              |
| y0                                                                                                                                                                                                                              |
| y$                                                                                                                                                                                                                              |
| p, P                                                                                                                                                                                                                            |
| J                                                                                                                                                                                                                               |
| c                                                                                                                                                                                                                               |
| u                                                                                                                                                                                                                               |
| [Ctrl]+r                                                                                                                                                                                                                        |
| 这个 u 与 [Ctrl]+r 是很常用的指令！一个是复原，另一个则是重做一次～ 利用这两个功能按键，你的编辑，嘿嘿！很快乐的啦！                                                                                                            |
| .                                                                                                                                                                                                                               |

### 第二部分：一般模式切换到编辑模式的可用的按钮说明

| 进入输入或取代的编辑模式                                                                                                                                                                                                     |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| i, I                                                                                                                                                                                                                         |
| a, A                                                                                                                                                                                                                         |
| o, O                                                                                                                                                                                                                         |
| r, R                                                                                                                                                                                                                         |
| 上面这些按键中，在 vi 画面的左下角处会出现『--INSERT--』或『--REPLACE--』的字样。 由名称就知道该动作了吧！！特别注意的是，我们上面也提过了，你想要在档案里面输入字符时， 一定要在左下角处看到 INSERT 或 REPLACE 才能输入喔！ |
| [Esc]                                                                                                                                                                                                                        |

### 第三部分：一般模式切换到指令行模式的可用的按钮说明

| 指令行的储存、离开等指令                                        |
| --------------------------------------------------------------- |
| :w                                                              |
| :w!                                                             |
| :q                                                              |
| :q!                                                             |
| 注意一下啊，那个惊叹号 (!) 在 vi 当中，常常具有『强制』的意思～ |
| :wq                                                             |
| ZZ                                                              |
| ZQ                                                              |
| :w [filename]                                                   |
| :r [filename]                                                   |
| :n1,n2 w [filename]                                             |
| :! command                                                      |
| vim 环境的变更                                                  |
| :set nu                                                         |
| :set nonu                                                       |

特别注意，在 vi/vim 中，数字是很有意义的！数字通常代表重复做几次的意思！ 也有可能是代表去到第几个什么什么的意思。

## Vscode Vim

在vscode的扩展商店中搜索vim，安装第一个插件
在 VS Code 中使用 Vim 模拟器肯定会遇到与 VS Code 按键冲突的问题
重新映射成另一个快捷键
