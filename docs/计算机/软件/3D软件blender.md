# blender

Blender 是一款免费开源的 3D 创作套件。它支持整个三维流程：建模、绑定、动画、模拟、渲染、合成、运动追踪和视频编辑。可在 Linux、macOS 和 Windows 操作系统上通过 OpenGL 提供一致的体验。

可以在官网[blender](https://www.blender.org/)或者steam上下载

主菜单Edit-Preferences-Interface中修改语言为中文

界面——补光——材质——渲染

[Blender 4.4 Manual](https://docs.blender.org/manual/zh-hans/4.4/getting_started/about/index.html)

模型网站：www.free3d.com                        www.cgtrader.com
材质网站：https:/polyhaven.com                 https://cc0textures.com/

## 界面

Blender 界面分为以下三个部分：

- 位于最上方的顶栏包括**主菜单**、**工作区选项卡**、**场景&图层**
	主菜单：Blender 菜单、文件菜单
	工作区选项卡：有一些预定义的窗口布局，还可以点击右侧新建自定义工作区配置
	场景&图层：选择当前场景和可见图层
- 位于中部的区域，是**主要工作区**
	工作区是一系列==编辑器窗口==组成的布局
	点击每个窗口左上角编辑器类型可以查看和切换类型
	鼠标光标到两个区域之间的边界变成一个双向箭头时，按住鼠标左键并拖动边界调整窗口大小
	鼠标光标在窗口四角变成十字游标时，按住鼠标左键并拖动拆分或合并窗口
	Ctrl+空格键 区域最大化
- 位于底部的**状态栏**，显示按键建议和相关统计信息。

**编辑器窗口**：
Blender 中的每个编辑器都分成几个区块（Region）。区块可以具有较小的结构元素，如选项卡和面板，其中包含按钮、控件和小部件。
至少有一个区块始终可见，被称为主区块。它是编辑器中最重要的部分。
每个编辑器都有特定的用途，所以每个编辑器的主区块和附加区块的功能都是不一样的。

- **标题栏**是一个小的水平条带，位于区域的顶部或底部。所有编辑器都有标题栏，用于容纳菜单和常用工具。菜单和按钮将随编辑器类型和所选物体和模式而改变。
	 如果标题栏被隐藏了，可以通过点击或拖动出现在编辑器右上方/下方的小箭头，使其再次可见。
	在标题栏上 鼠标右键 单击，显示一个上下文菜单
- **工具栏**（在编辑器区域的左侧）包含一组交互式工具。T 切换工具条的可见性。
	编辑器顶部或底部的一个水平条，包含了当前所选工具的设置。
	快捷键F9，调整上一步操作
- **侧栏**（位于编辑器区域右侧），包含编辑器中物体与编辑器自身的设置面板。N 用于切换侧栏的可见性。
- **底栏** 一些编辑器显示一个栏（在编辑器区域的顶部/底部），显示例如活动工具或操作符的信息。


面板窗口中鼠标聚焦在一个按钮上可以显示作用和快捷键
主菜单的 编辑  -> 偏好设置 -> 键位映射 可以修改快捷键
和绝大多数windows软件一样，ctrl+s保存、ctrl+z撤回

插件：
在 编辑—偏好设置—获取扩展 打开允许联网，然后可以搜索并安装扩展
安装后可以在 编辑—偏好设置—插件 中关闭/打开扩展插件
按下n打开侧边栏—编辑 找到并使用插件 
*安装LoopTools，细分边，点击looptools圆环*

Blender 的默认启动在主区域显示了 “布局(Layout)” 工作区。这个工作区是一个通用工作区，用于预览你的场景，包含以下编辑器：左上角的 3D 视图；右上角的大纲；右下角的属性；左下角的时间轴  四个窗口
默认场景中有立方体（模型）、灯（灯光）、摄像机

### 3D视图

3D视图用于与3D场景交互，可用于各种目的，例如建模、动画、纹理绘制等

==3D视图常用操作==：使用导航器及导航器下面的操作工具，以下是快捷键：
按住鼠标中键并移动鼠标旋转视图，建议打开编辑—偏好设置—视图导航—围绕选择物体旋转
按住shift+鼠标中键并移动鼠标平移视图
滚动鼠标中键缩放视图
按住~键出现派目录然后移动鼠标可以切换视图

**标题栏**包含了基于当前模式的各种菜单和控制：

- 模式&菜单
	- **模式**  3D视口有几种模式用于编辑不同种类的数据。
		快捷键 Ctrl-Tab 会弹出一个饼状菜单用于快速切换模式
		快捷键 Tab 将受支持物体在 “物体模式” 和 “编辑模式” 之间切换。
	- **视图** 这个菜单提供了用于在三维空间中导航的工具
		按住~键会弹出一个饼状菜单用于快速切换视图
		也可以使用右侧导航器切换
	- 其他菜单取决于当前的模式，物体模式菜单如下：
		- 选择 包含用于选择物体的各种工具。
		- 添加 Shift-A 包含一个可以添加到场景中的不同物体类型的列表。
		- 物体 包含对物体进行操作的工具。这些工具的一个子集也可以通过在 3D 视口中点击右键来访问。
- 变换控件
	- 变换坐标系 逗号,  用于改变变换坐标系，它影响到变换操控器的旋转。
	- 轴心点 句号.  用于改变轴心点，它影响到变换操控器的位置。
	- **吸附** Shift-Tab 吸附。你可以按住 Ctrl 来打开功能（一般使用）。
	- 衰减编辑 O 用于平滑地变换靠近选定项目的未选定的项目。
- 显示方式 & 着色类型
	- 物体类型可见性 改变哪些类型的物体在 3D 视口中是可见/可选的
	- 视图操控器 改变操控器在 3D 视图中的显示方式。
	- 视图叠加层 改变叠加层在 3D 视图中的显示方式。
	- **透视** Alt-Z 使整个场景透明，允许您查看和选择会被遮挡的项目
	- **视图着色** 更改 3D 视图的着色。
		视图着色方式默认是实体，可以改为渲染实时查看渲染情况
		点击小箭头展开菜单可以修改光照。可以关闭场景世界，使用内置世界光照并把不透明度设为1、模糊设为0
	
**工具栏**区块
工具栏包含取决于当前模式的工具（例如，编辑模式 中的建模工具，雕刻模式 中的画笔工具...）

**侧栏**区块
侧栏区块包含活动物体和工具的属性，以及视口本身的属性

**资产架**区块
根据当前模式，可以使用资产架，快速访问特定模式下的资产（例如，姿态模式 下的姿态资产，雕刻模式 下的笔刷资产）

### 大纲

大纲 以树形显示 blend 文件的内容。您可以用它来：

- 获取场景中数据的概览。
- 选择与弃选物体。
- 使物体在 3D 视图中不可选或不可见。
- 从渲染中排除物体。
- 复制物体。
- 删除物体。
- 管理父/子关系和集合。

左侧带有箭头的项目可以展开。使用 鼠标左键 单击它可展开单个项目，拖动 鼠标左键 可展开多个项目，或单击 Shift-鼠标左键 可递归展开项目。

右键—新建集合，
设置父子级shift 拖；ctrl+p

### 属性

属性编辑器可显示和编辑活动场景、物体、材质等的属性。

选项卡
属性按选项卡（左侧的垂直图标列表）分组，具体说明如下。

活动工具与工作区设置
第一个选项卡包含活动工具（在3D视图中）和当前工作区的设置。

场景
以下选项卡包含了关于活动场景的设置。
渲染器：EEVEE、Cycles 或 工作台 的设置
输出
视图层
场景
世界环境

集合
此选项卡包含活动集合的设置。

物体
这些选项卡与活动物体有关。其中有些选项卡只对某些类型的物体可见。
物体
修改器（或蜡笔修改器）
效果
粒子
物理
物体约束

物体数据
该类别的主选项卡（通常是唯一的）始终具有相同的名称，物体数据，但其图标会根据物体的实际类型而改变。

几何体物体：
网格
曲线
曲面
文本
融球
蜡笔

绑定和形变物体：
骨架
骨骼
骨骼约束
晶格

其它物体类型：
空物体
扬声器
摄像机
灯光
光照探头

物体着色
与活动物体外观相关的选项卡。仅对某些类型的物体可见。
材质
纹理

## 基本流程

主菜单—文件

关联：只能在源文件中修改，所有关联场景都会改变。把一个大场景拆分成几个模型分别建模，防止一个文件过大
追加：可以直接修改模型。占用资源，场景文件过大。在不同场景ctrl+C/ctrl+V会自动追加
导入：导入其他3D模型

### 建模

建模操作主要在3D视图中

#### 物体

蜡笔

#### 3D视图物体模式

空物体

原点（锚点）：
物体原点，一般移动到模型底部方便
世界原点
移动工具点击右上角选项中仅影响原点修改；或者n—工具—选项中修改

选中物体，M快速放入集合

**选择物体**：*工具栏1*；点击标题栏的选择选项卡
直接点击物体选择；通过大纲视图选中物体
鼠标左键+拖动框选物体
按住shift可可以加选或者减选物体
刷选C 
全选A
Alt-Z 切换到透视模式，允许选择被遮挡的项目

**新建物体**：点击标题栏的添加选项卡
shift+A在弹出的菜单中选择

新建的物体默认出现在游标的位置
点击*工具栏2*游标工具后就可以移动游标；快捷键shift+鼠标右键
shift+S出现派目录快速对模型定位
shift+C游标快速移动到世界原点
游标可以作为物体旋转的轴心点

**删除物体**：点击标题栏的物体选项卡；选中物体然后右键打开菜单，点击删除物体
使用快捷键选中物体直接按X删除物体
选中物体直接按Delete删除物体，并且不会显示确认对话框

**变换物体**：*工具栏3456*；
选中物体然后点击工作区左侧工具栏的变换，使用句柄移动、旋转和缩放物体
移动G、旋转R、缩放S（快捷键+X、Y、Z限定变换方向全局）（alt+快捷键 撤销相应变换）（移动时按ctrl自动吸附网格）（快捷键+XX、YY、ZZ限定变换方向局部）
鼠标左键确定变换位置；鼠标右键退出

可以在属性管理器—物体 中的变换手动输入变换值；也可以按键盘n键打开侧边栏—条目 手动输入变换值

点击顶部设置变换轴心点
变换坐标系：局部坐标，全局坐标

如果在物体模式中缩放，需要ctrl+A选择应用缩放。这样缩放值就变为1

**复制物体**：点击标题栏的物体选项卡；选中物体然后右键打开菜单
ctrl + c 复制/ crtl + v 粘贴
直接复制粘贴复制的物体会相互重合，通过大纲窗口选中要移动的物体然后进行移动即可
shift+D移动复制
alt+D关联复制

**隐藏、显示物体**：点击大纲视图的眼睛图标
H隐藏、alt+H重新显示、shift+H隐藏未选中物体
/只显示选中物体 

#### 3D视图编辑模式

选中物体，按tab进入编辑模式（左上角从物体模式切换到编辑模式）

编辑模式默认是点选择模式，可以在左上角切换点选择模式、边选择模式、面选择模式
快捷键：1、2、3

点线面的选择：
上下文菜单：
前九个工具与和物体模式一样

右下角有小三角图形代表有多种工具可以切换，长按或使用快捷键进行切换
长按可以切换调整、框选、刷选、套索选择。快捷键w循环切换
ctrl+i反选
l选择相连点
ctrl选择两点会选中相连的路径
alt选择两点会选中一圈点
扩展选区

点击右上角切换透视模式（快捷键alt+z）可以选中物体背面看不见的点

点线面的控制：与物体模式类似g、r、s
0衰减编辑，g滚动鼠标滚轮
sz0、sv0自动变平

右键菜单
选中后x打开删除菜单，融并删除会在删除后重新把模型闭合

右上角显示叠加层中把面朝向打开，面的反面会用红色标识
查看法向

标注按住ctrl擦除


旋转工具
衰减编辑、吸附工具、曲线建模

#### 常用操作

挤出选区 E
ctrl+右键连续挤出
点挤出线、线挤出面、面挤出体
尽量避免右键取消，而是使用ctrl+z撤回。因为右键仅取消了移动的操作，原地会有重合的点。
挤出流形
挤出选区在向模型内挤出时会保留多余的面。使用挤出流形可以自动融并去除多余的面
挤出各个面
挤出选区在选择连续多个面挤出时会自动融并它们重合的点，移动一个面另一个面也会移动。使用挤出各个面得到的面是各自分离的，不会出现这种情况

内插面 I
在选中的面中新增内插面

倒角 ctrl+B
鼠标滚轮改变倒角面数

环切 ctrl+R
鼠标滚轮改变切割次数

合并M
合并点、线、面

断开V
断开点、线、面

填充F
填充面

切刀K

桥接ctrl+E
必须一个物体才能桥接，可以ctrl+j合并物体

分离P
分离物体

#### 修改器

属性窗口—修改器

使用修改器编辑的好处：
效率高、灵活
这是非破坏的方式，在不改变原模型的基础上方便地控制参数

应用修改器

表面细分 添加细分
实体化 面-->实体
倒角

简易形变

缩裹 给细分面添加修改器，点击吸管图标，再点击吸附物体。接下来可以实体化

阵列 相对偏移、恒定偏移、物体偏移（可以使用空物体）

镜像

晶格形变

曲线

蒙皮
E挤出，ctrl+A缩放半径

置换
需要细分 贴图


布尔  交集、并集、差集
容易造成多边面和一些不规则的面，慎用


几何节点

### 材质

PBR 基于物理的渲染

拆分一个窗口改为着色器编辑器
属性—材质
（着色器 的许多功能和 属性—材质 是一样的，更方便理解和使用）

添加删除材质：属性—材质—新建；着色器 右上角—新建
（默认关闭软件时会删除没有被赋予任何物体的材质，可以点击原本新建按钮位置处的盾牌图标添加伪用户）
还可以给物体赋予之前创建的材质

点击添加材质槽可以给物体添加多个材质，然后在编辑模式选中面，在 属性—材质 中点击指定修改材质
不同的材质之间，也可以复制粘贴节点

新建的材质有两个节点：原理化BSDF、材质输出
原理化BSDF：
基础色：颜色
金属度：1金属，0非金属
糙度：1粗糙，0光滑

在着色器中点击标题栏添加或使用快捷键shift+a添加节点

打开Node wrangler插件，选中节点ctrl+T自动添加映射和纹理坐标节点

选中物体，shift加选已经有材质的物体，ctrl+l可以关联材质
如果被关联物体有多个材质，默认显示第一个材质

ctrl鼠标右键滑动切断连接

ctrl+j 黑框
ctrl+g 组

#### 纹理

纹理是材质的一个参数，包括图片纹理（贴图）、程序纹理

**图片纹理**：
添加一个纹理—图像纹理节点，把图像纹理的颜色输出给原理化BSDF的基础色（连接两个点），打开一张图片
添加一个矢量—映射 节点用于改变纹理的位置、缩放，连接映射的矢量和图像纹理的矢量
添加一个 输入—纹理坐标用于定义用什么坐标映射纹理，连接纹理的输出和映射的矢量

纹理的输出包括生成、UV、物体等
生成：基于全局坐标系，世界原点为原点
物体：基于局部坐标系，物体原点为原点。可以指定其他物体的原点，包括空物体
UV：把3D模型先转换为2D平面UV图，然后与2D纹理进行映射。图像纹理节点默认使用UV

**渐变纹理**：
添加 纹理坐标、映射、分离xyz、转换器—颜色渐变 节点
颜色渐变节点点击颜色断点标签，在下方选择颜色。还可以添加颜色断点

**程序化纹理**：
添加 纹理—噪波纹理等各种内置纹理节点、转换器—颜色渐变节点
颜色—系数—基础颜色

==混合节点==：
添加转换器—混合，数据类型选择颜色
它可以把A、B按照混合模式并以系数为比例进行混合，然后输出结果

凹凸节点：通过法向参数产生“假形变”效果
高度，法向

法向接收一个3维矢量，在计算机里使用RGB颜色表示
可以通过纹理—图像纹理节点导入参数

置换修改器：“真形变”效果
添加置换修改器，打开置换纹理图片
（在此之前可以添加表面细分修改器，细分多效果更精细）

也可以使用置换节点，不过比较麻烦且耗费资源，优点是给另一个物体关联材质时不需要重新添加修改器

选择原理化BSDF ctrl+shift+t，选择4个图片

混合着色器节点：
alt+s快速切换混合节点的上下位置


随机颜色：
物体信息 随机—颜色渐变（常值） 系数


原理化BSDF改成自发光

#### UV纹理绘制

UV是三维模型的二维展开（(x,y,x)-->(u,v)）
UV是纹理的一种映射方式，对于相应一一对应的贴图

UV编辑器
3D视图编辑模式全选物体，就会在UV编辑器显示

图像纹理节点新建，可以改变颜色，创建一个基本的贴图用来绘制

3D视图纹理绘制模式绘画：
n侧边栏—工具；属性—工具
对称绘制
f滚动鼠标滚轮 改变画笔大小

如果物体不是网格，右键转为网格
编辑模式，选中物体，u智能UV投射

绘制完记得保存贴图

### 粒子

属性—粒子

自制粒子
因为粒子数很多，自制粒子面数尽量小，节省资源
渲染—渲染为 物体可以选择物体；多个物体，渲染—渲染为 集合可以选择集合
渲染—缩放 调整粒子大小

#### 发射器粒子

下雨效果

点击空格键就会自动播放
起始帧是动画的起始帧
生命周期是粒子存在的帧数

力场权重可以修改影响粒子的力（属性—场景 可以直接关闭重力）
还可以添加力，在属性—物理 中修改力度

速度可以修改物体的初始速度
旋转可以让每个粒子旋转
物理可以人粒子布朗运动

粒子碰撞：
给需要与粒子碰撞的物体添加碰撞属性
在属性—物理 点击碰撞

#### 毛发粒子

种树、种草

勾选高级

个数
段数，如果要弯曲5

物理、旋转、渲染

### 灯光

#### 世界光

世界光：属性—世界环境
着色器—世界环境模式 世界环境也是由节点构成的

添加一个环境纹理节点，连接颜色
打开HDRI贴图
Blender自带了一些贴图，在 Blender\4.4\datafiles\studiolights\world 路径下
如果只想使用HDRI贴图的光照而不使用背景，可以在 属性—渲染—胶片 勾选透明

#### 场景光

点光、日光、聚光、面光

点光是全向光源；日光是定向平行光（只与方向有关，哪怕光源在物体背后也能照射到）；聚光是定向锥形光源；面光是定向面光源

属性—灯光
颜色
瓦数

#### 打光

先打世界光 定基调

再打场景光 最常用面光

三点打光法：主光、辅光、轮廓光
主光比较亮，用来凸显主要对象
辅光把需要的暗面照亮，不能喧宾夺主
轮廓光一般从物体背面打，用于勾勒物体的轮廓（可以在属性—灯光—取消勾选投射阴影）

明暗对比、冷暖对比

选择摄像头，属性—数据
改变焦距、结束点

图片做背景方便

### 动画

时间线编辑器
中间播放动画，空格。右上设置当前帧、起始帧、结束帧

选择物体，右键插入关键帧I，此时时间线上会出现一个黄色的关键帧标记
时间线设置到24，对物体进行变换然后插入关键帧，就可以播放动画

点击左上小箭头，点击汇总就可以看到每个物体的关键帧

点击关键帧右键菜单可以复制关键帧、删除关键帧

参数 属性—材质—颜色 右键插入关键帧

点击中间自动插帧，移动时间线，然后变换物体会自动插帧

如果动画太慢，可以选择所有关键帧，时间线回到第0帧，s缩放


曲线编辑器
通过每根曲线控制杆改变每个动画速度
n添加修改器，一个帧


形态键
属性—数据—形态键
基型
键1，编辑模式修改，优点是不会改变基型
可以给键1的值属性打关键帧


骨骼绑定
新建骨架物体=骨骼+姿态（动作信息），物体模式只能给整个骨架打关键帧
编辑模式E挤出新骨骼，尾部挤出子级，头部挤出平级
姿态模式可以给每个骨骼打关键帧

在物体模式骨骼绑定
选择模型，shift骨架，ctrl+p 附带自动权重
如果有父级alt+p清空父级，再重新设置父级

骨骼 属性—数据 视图显示，勾选在前面，不会被模型挡住方便查看

物体
权重绘制
auto rig、rigify

柔性骨骼

物体约束
属性—约束
标准追踪

给焦距、光圈打关键帧实现镜头推动效果

### 合成

合成器是给视频加特效的工具
blender简单的特效

合成器编辑器 左上角勾选使用节点，使用方法与着色器类似
节点

当然也可以使用AE、muke、fison、houdini等特效软件

输出视频：
属性—输出
设置分辨率、帧率、帧范围
输出设置文件夹
输出格式最后选择png等图像而不是视频，如果渲染出错可以指定开始帧继续渲染而不必重新渲染

输出—渲染
采样
光线追踪

点击顶栏 渲染—渲染动画 快捷键ctrl+F12


序列编辑器，点击 添加—图像/序列 选择渲染的图像
属性—输出 文件格式选择视频格式FFmpeg视频 
编码—容器 选择MPEG-4
视频—视频编码 选择H.264，输出质量选择高品质

可以通过PR、剪映等视频编辑软件添加音频

## 高级功能

### blender脚本

可以使用默认的脚本布局或自己打开相应编辑器

Python控制台：运行单个命令行
文本编辑器：编辑/运行整段脚本
信息栏：显示部分GUI操作所对应的函数/变量转换

在主菜单的“窗口”项里点击切换系统控制台调出md窗口

编辑—偏好设置—界面 勾选“使用工具提示”与“Python工具提示”，在鼠标悬停到对应按钮/物体时可以看到API中对应的python变量/调用函数

在3D视图添加物体时，信息栏会显示：
`bpy.ops.mesh.primitive_cube_add(size=2, enter_editmode=False, align='WORLD', location=(0, 0, 0), scale=(1, 1, 1))`
这段代码就是生成立方体的Python代码，把它输入到Python控制台中可以发现3D视图中同样添加了物体

如果要给blender装额外的py库，则需要去blender自带的Python目录（blender文件夹\python\bin\python.exe）下起shell开pip install

## 案例效果

【Kurt】Blender零基础入门教程
BV14u41147YH

**载入参考图**：
切换到前视图
新建物体—图像—参考
属性—数据—不透明度 调低一些方便建模，深度改为前
点击大纲视图的漏斗图标，限制开关点击灰色的鼠标三角图案然后退出，在大纲视图的图片处点击新出现的禁用选中项，可以防止后续误选中参考图

**建模**：
添加经纬球，此时左下角出现一个添加经纬球的选项，展开可以设置分段数、半径等
添加后选中物体点击F9也可修改
添加其他物体。。。

制作完可以隐藏或删除参考图

**修改摄像机视图**：点击属性—输出 可以修改分辨率等
点击切换摄像机视图
点击切换摄像机视图下方的在摄像机视图中启用导航模式
此时摄像机视图框变成红色虚线，可以移动视图修改摄像机显示画面而不会自动退出
修改好后退出摄像机视图即可

设置好后可以点击大纲视图中摄像机的禁用选中项

**打光**：
渲染引擎EEVEE/CYCLES
属性—渲染 可以修改渲染器
F12查看渲染效果，点击右上角视图着色方式可以实时浏览（资源占用大）

属性—世界环境 强度默认是1.为了精准打光调整为0

属性—灯光 可以修改灯光半径和光源类型

选中物体 右键 自动平滑着色

主光、辅光、轮廓光

**材质**：
设置平滑着色后

属性—材质 新建材质
修改颜色、金属度、糙度

可以新建一个面板窗口，改为图像编辑器窗口，打开参考图取色

ctrl+l 关联材质

面吸附


蘑菇
新建立方体，添加表面细分修改器
自动平滑着色，如果效果不好可以在表面细分修改器增加面数

新建12顶点柱体，添加表面细分修改器，把原点移动到柱体底部
简易形变修改器（z锥化）、简易形变修改器（y弯曲）

新建集合，移动到集合中，并设置蘑菇盖是蘑菇杆的父级（先选择杆，按shift选择盖，ctrl+p打开菜单中选择物体）

立方体，原点—几何中心，面吸附（旋转独立目标）

木桩
柱体
g衰减编辑
选中下方所有点，打开前视图，sz0
应用修改器

shift+D，然后分离选中项


花
新建平面
旋转工具
实体化
原点设置几何中心，然后移到底部

曲线

狐狸，两个参考图，正视图和侧视图


火
顶点组
权重模式

`#frame/100`
